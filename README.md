# Hedvig's asset-tracker and bot-service management application

## Development

All required dependencies are installed using Maven.

Maven `./mvnw package` executes the following tasks:

- Downloads and installs NodeJs and Yarn into `target/node/node` and `target/node/yarn/dist/bin/yarn` files respectively.
- Builds ReactJs front-end application files to `src/main/resources/static` folder.
- Compiles and builds Spring Boot fat jar (to `target/asset-frontend-0.0.1-SNAPSHOT.jar` file).

### Build production application

Run `./mvnw package` to build fat jar for production.

### Run development version

- Install NodeJs and Yarn either globally on your computer or locally for the project using Maven (for example `./mvnw package`).
- Run Spring application from your IDE (`AssetFrontendApplication` main method)
  - By default Spring application starts Tomcat web server on http://localhost:8080/
  - Tomcat will serve static content from `src/main/resources/static` folder. This content is never used in development but dynamic content generated by Webpack is used instead. See notes below about WebPack.
- Run WebPack development server `./target/node/yarn/dist/bin/yarn start`. This will start
  - WebPack development server with HotReload configured listening on http://localhost:9060/
  - BrowserSync plugin on http://localhost:9000/ and UI on http://localhost:3001/
  - Static files (index.html, JavaScript and CSS) are provided by WebPack.
  - REST API is proxied to Spring application.
